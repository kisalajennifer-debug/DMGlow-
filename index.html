<!DOCTYPE html>
<html>
<head>
  <title>DMGlow Generator</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <div class="app">
    <h1>DMGlow Social Reply Engine</h1>

    <textarea id="userInput" placeholder="Paste the message you received..."></textarea>

    <div class="controls">
      <select id="tone">
        <option value="chill">Chill</option>
        <option value="playful">Playful</option>
        <option value="confident">Confident</option>
        <option value="witty">Witty</option>
        <option value="mysterious">Mysterious</option>
      </select>
    </div>

    <button class="generate-btn" onclick="generateReply()">
      Generate Replies
    </button>

    <div class="results" id="outputArea"></div>

    <div style="margin-top:20px; display:flex; flex-direction:column; gap:10px;">
      <button class="generate-btn" onclick="nativeShare()">Share (All Apps)</button>
      <button class="generate-btn" onclick="shareWhatsApp()">Send to WhatsApp</button>
      <button class="generate-btn" onclick="shareFacebook()">Share to Facebook</button>
      <button class="generate-btn" onclick="shareLinkedIn()">Share to LinkedIn</button>
    </div>

  </div>

  <script>
    let selectedText = "";

    function generateReply() {
      const mood = document.getElementById("tone").value;
      const outputArea = document.getElementById("outputArea");
      const inputText = document.getElementById("userInput").value;

      if (!inputText) {
        alert("Please enter a message first.");
        return;
      }

      const replies = {
        chill: [
          `Haha I see you ðŸ‘€ but what made you say "${inputText}"?`,
          `Okay now I'm curiousâ€¦ explain "${inputText}" a little more.`,
          `Wait wait ðŸ˜‚ "${inputText}" has a story behind it.`
        ],
        playful: [
          `"${inputText}"? Bold of you ðŸ˜Œ`,
          `Oh so we're starting like that? Interesting.`,
          `You woke up and chose confidence today huh?`
        ],
        confident: [
          `I donâ€™t usually entertain messages like "${inputText}"â€¦ but Iâ€™ll allow it.`,
          `Interesting energy. I respect it.`,
          `Youâ€™re either braveâ€¦ or very sure of yourself.`
        ],
        witty: [
          `"${inputText}" had main character energy.`,
          `Plot twistâ€¦ I actually liked that.`,
          `You're testing the waters with that one ðŸ˜‚`
        ],
        mysterious: [
          `"${inputText}"â€¦ intriguing.`,
          `You might be onto something.`,
          `Continue. Iâ€™m listening.`
        ]
      };

      outputArea.innerHTML = "";
      selectedText = "";

      const selectedReplies = replies[mood];

      selectedReplies.forEach(reply => {
        const box = document.createElement("div");
        box.className = "reply-box";

        const p = document.createElement("p");
        p.textContent = reply;

        box.appendChild(p);

        box.onclick = function() {
          selectedText = reply;
          document.querySelectorAll(".reply-box")
            .forEach(b => b.style.border = "1px solid #C9A227");
          box.style.border = "2px solid white";
        };

        outputArea.appendChild(box);
      });
    }

    function nativeShare() {
      if (!selectedText) {
        alert("Select a reply first.");
        return;
      }

      if (navigator.share) {
        navigator.share({
          title: "DMGlow Reply",
          text: selectedText
        });
      } else {
        alert("Sharing not supported on this device.");
      }
    }

    function shareWhatsApp() {
      if (!selectedText) return alert("Select a reply first.");
      const url = "https://wa.me/?text=" + encodeURIComponent(selectedText);
      window.open(url, "_blank");
    }

    function shareFacebook() {
      if (!selectedText) return alert("Select a reply first.");
      const url = "https://www.facebook.com/sharer/sharer.php?u=" + encodeURIComponent(selectedText);
      window.open(url, "_blank");
    }

    function shareLinkedIn() {
      if (!selectedText) return alert("Select a reply first.");
      const url = "https://www.linkedin.com/sharing/share-offsite/?url=" + encodeURIComponent(selectedText);
      window.open(url, "_blank");
    }

  </script>

</body>
</html>
